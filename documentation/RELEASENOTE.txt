/*********/
/* 6.4.0 */
/*********/

Dispatcher plugin Version + Dispatcher plugins can be manually removed

#New
  - Component Dispatcher\Plugin\Version - add project version behind script + link url to allow version browser cache
  - Dispatcher can now remove a plugin

#Compatible
  - Code clean
  - Renamed Import\Config\Field\Validator\LongueurMax to Import\Config\Field\Validator\MaxLength

#Fix
  - Session start only if available

/*********/
/* 6.3.1 */
/*********/

Fix Controller unit test for Jenkins compilation

#Fix
 - Controller unit test don't compile class referencies

/*********/
/* 6.3.0 */
/*********/

Syslog Logger channel by default + phpunit native HTML report

#New
  - View component now throws \FMUP\Exception\UnexpectedValue instead of OutOfBoundsException and InvalidArgumentException with a specific code
  - Component Logger\Channel\Syslog - This channel is now base for Standard (default) channel
  - add phpunit configuration to generate neat native code coverage HTML report + color in CLI

#Fix
  - View::getParam, View::setParam and View::setViewPath throw \FMUP\Exception\UnexpectedValue in case of non string parameter

#Compatible
  - New Unit test
    - Cookie
    - View
  - Controller unit test 100% code coverage
  - Add PHP documentation on Logger\Interface
  - Add PHP documentation on Controller

/*********/
/* 6.2.3 */
/*********/

Fix Mcrypt security - merged 5.3.2

#Fix
 - Mcrypt IV security needs to be 16 char long
 - renamed documentation to index

#New fix
 - add some documentation in Response

/*********/
/* 6.2.2 */
/*********/

FMUP\Mail configure auto tls

#Fix
  - FMUP\Mail configure auto tls
  - use of php-amqplib/php-amqplib that is maintained

/*********/
/* 6.2.1 */
/*********/

Code Clean + fix date + iterator issues

#Compatible
 - Code Clean
 
#Fix
  - Iterator ArrayToObjectIterator now returns indexes
  - Date conversion

/*********/
/* 6.2.0 */
/*********/

Add application/json header (Merge 5.3.0)

#New
 - Response\Header\ContentType adds application/json header

/*********/
/* 6.1.7 */
/*********/

Fix FetchIterator rewind

#Fix
 - FetchIterator now execute query on rewind instead of continuing iterations

/*********/
/* 6.1.6 */
/*********/

#Fix
 - Import\Iterator\CsvToConfigIterator Bugfix import ligne vide

/*********/
/* 6.1.5 */
/*********/

Fix LoggerTrait
Merged 5.2.3

/*********/
/* 6.1.4 */
/*********/

Fix Import CsvToConfigIterator
Merge 5.2.2

#Fix
 - Import\Iterator\CsvToConfigIterator now doesn't read the column not set and reinitialise the config if the line has less columns

/*********/
/* 6.1.3 */
/*********/

Fix Import CsvIterator (merge 5.2.1)

#Fix
 - Import\Iterator\CsvIterator now reads the last line
 - Is::half() cannot have unexpected null return

/*********/
/* 6.1.2 */
/*********/

Encoding clean

#Fix
 - Clean message in Framework to be utf8 encoded

/*********/
/* 6.1.1 */
/*********/

Code clean

#Compatible
 - Code clean
 - Fix release note to added feature

/*********/
/* 6.1.0 */
/*********/

Add some Import validators (merge 5.2.0)

#New
 - Component Import\Config\Field\Validator
    - Date can now check date without separator
    - Email can allow empty
    - Integer can allow empty
    - RegExp can allow empty
    - Telephone can allow empty
    - HalfOrInteger
  - Response can now return code for cli with method setReturnCode

/*********/
/* 6.0.0 */
/*********/

Code Quality + Performance on result sets

#Incompatible
 - Deleted generateur
 - Deleted db_connection classes
 - Deleted db_helper
 - Deleted console
 - Deleted debug
 - Deleted view
 - Deleted helpers
 - Deleted unused code
 - Deleted javascript
 - Deleted historisation
 - Deleted config -- Some FMUP components need FMUP\Config now (to be defined in bootstrap)
 - Deleted BASE_PATH constant
 - Deleted use of global var ($sys_controller, $sys_directory, $sys_function)
 - Deleted use of REQUEST['sys']
 - Deleted usage of APP* constant
 - Deleted App* components
 - Deleted all use of flog
 - Deleted config is_logue -- replaced by Model::setIsLogue
 - Deleted Model::ISOtoUTF8 (this is a bad patch, fix in your page + file encoding)
 - Framework::getRouteError needs two parameters ($directory, $controller)
 - Deleted multi tab from framework
 - Deleted Framework::instantiateSession
 - Deleted methods in Sql
    - parseOrder
    - parseSelect
    - parseJoin
 - Renamed \String::toCamlCase to \FMUP\String::toCamelCase
 - Deleted Constantes
 - Deleted FMUP\Db\Driver\Mock
 - Renamed FMUP\Helper\Db to FMUP\Db\Manager
 - Deleted emailHelper. use FMUP\Mail decorator instead
 - Deleted date
 - Deleted Tool\Log
 - Deleted Import\LiaisonBase
 - Deleted methods in Model
    - getHistoriqueSurObjet
    - getHistoriqueSurObjetDiffLibelle

#New
 - Session can now define all values at once by setting an array
 - Db\DbInterface allows 2 optional parameters to fetchRow. cursorOrientation + cursorOffset
 - Db\FetchIterator - This allows to handle result sets without loading all in PHP
 - array_to_object_iterator - this allows to migrate old Model::objectsFromMatrix with FetchIterator system
 - Model::objectsFromMatrix allows a third optional parameter to specify to return new iterator system or old array system (iterator by default)
 - Model::objectsFromArray is now public
 - Model::findAllFromTable allow a parameter iterator in options to set to false to disable iterator feature

#Compatible
 - Deleted config/is_debug by using display_errors instead
 - Deleted use of $_SESSION / use FMUP\Session instead
 - Model uses fetchRow instead of fetchAll when possible

#Fix
 - ByMask routing to handle only request uri without query string
 - Db\Driver\Pdo do not warning when SQL exception occurs

#Compatible
 - clean up some code
 - clean up some checkstyle

/*********/
/* 5.3.2 */
/*********/

Fix Mcrypt security

#Fix
 - Mcrypt IV security needs to be 16 char long
 - renamed documentation to index

/*********/
/* 5.3.1 */
/*********/

Fix auto tls configuration for PHPMailer

#Fix
 - auto tls configuration for PHPMailer

/*********/
/* 5.3.0 */
/*********/

Add application/json header

#New
 - Response\Header\ContentType adds application/json header

/*********/
/* 5.2.4 */
/*********/

#Fix
 - Import\Iterator\CsvToConfigIterator Bugfix import ligne vide

/*********/
/* 5.2.3 */
/*********/

Fix LoggerTrait

#Fix
 - LoggerTrait notice - uses real protected logger

=======
 
>>>>>>> f0c1f13cb248bd20a0d59f844f2484a4249ff223
/*********/
/* 5.2.2 */
/*********/

Fix Import CsvToConfigIterator

#Fix
 - Import\Iterator\CsvToConfigIterator now doesn't read the column not set and reinitialise the config if the line has less columns

/*********/
/* 5.2.1 */
/*********/

Fix Import CsvIterator

#Fix
 - Import\Iterator\CsvIterator now reads the last line
 - Is::half() cannot have unexpected null return

/*********/
/* 5.2.0 */
/*********/

Add some Import validators

#New
 - Component Import\Config\Field\Validator
    - Date can now check date without separator
    - Email can allow empty
    - Integer can allow empty
    - RegExp can allow empty
    - Telephone can allow empty
    - HalfOrInteger
  - Response can now return code for cli with method setReturnCode

/*********/
/* 5.1.1 */
/*********/

Some Unit Test to make FMUP release stable again on Jenkins

#Fix
 - Unit tests

/*********/
/* 5.1.0 */
/*********/

Performance on Dispatcher / ErrorHandler / Queue / Routing

#Fix
 - Framework dependency with SAPI
 - Db can load if config is not defined

# New
 - LazyLoad on Dispatcher / ErrorHandler / Queue / Routing
 - Component Routing/ByMask to load a specific route matching a path instead of loading multiple objects that might not be used

/*********/
/* 5.0.2 */
/*********/

FMUP Bootstrap Environment + Logger confusion

#Fix
 - FMUP Bootstrap Environment + Logger confusion

/*********/
/* 5.0.1 */
/*********/

AMQP Queue system allows specific AMQPMessage

#New
 - AMQP Queue system allows specific AMQPMessage

/*********/
/* 5.0.0 */
/*********/

Framework CLI

#New
 - Component Sapi
 - Component Routing\Route\Cli
 - Component Request\Cli
 - Component Request\Http
 
#Incompatible
 - Request\Http is now abstract - you have to use Request\Http if you want to create new request (compatible because no one wants to create a request)
 - Require now PHP >= 5.4 due to use of Traits

/*********/
/* 4.3.1 */
/*********/

AMQP Queue system allows specific AMQPMessage

#New
 - AMQP Queue system allows specific AMQPMessage

/*********/
/* 4.3.0 */
/*********/

AMQP Queue system + fix mail error fatal

#New
 - Component Queue\Driver\Amqp
 - Component Queue\Channel
 - Component Queue\Channel\Settings

#Fix
 - Error mail sent on error

/*********/
/* 4.2.0 */
/*********/

Db force reconnect + Queue\Driver\Native Environment + Queue\Driver\Native retry

#New
 - Component Environment\OptionalTrait
 - Queue\Driver\Native can now handle Environment
 - Queue\Driver\Native can now handle Retry setting
 - FMUP\Db can now forceReconnection
 - Crypt unit test

#Fix
 - Do not load Headers handler in FMUP\Logger on cli SAPI
 - add suggest for memcached + sysvmsg extensions

/*********/
/* 4.1.0 */
/*********/

LoggerInterface + Db Logging + Queue System is non blocking

#New
 - Component Logger\LoggerInterface
 - Component Logger\LoggerTrait
 - Component Db now uses a Logger
 - add documentation
 - UnitTest Controller
 - Queue\Driver\Native can now set blocking option on send and/or receive

#Delete
  -FMUP\Db\Driver\Mock (was useless)
  
/*********/
/* 4.0.6 */
/*********/

Error Mail encoding + fix mail support separator char

#Fix
  - Error Mail encoding
  - mail support separator char for Tools\Log (now handles ; and ,)

/*********/
/* 4.0.5 */
/*********/

Fix blocking messages in native queue system on send

#Fix
  - blocking messages in native queue system on send

/*********/
/* 4.0.4 */
/*********/

Fix notice on PDO exception error code

#Fix
  - notice on PDO exception error code

/*********/
/* 4.0.3 */
/*********/

Fix exception on session redirection

#Fix
  - exception on session redirection

/*********/
/* 4.0.2 */
/*********/

Fix Blocking Exception

#Fix
  - Exception is not thrown anymore on not important errors (but still logged)

/*********/
/* 4.0.1 */
/*********/

Fix Pdo Sqlite

#Fix
  - Db\Driver\Pdo\Sqlite was doing exception due to inaccessibility of params
  
#New
  - Db\Driver\Pdo offers now a protected getSettings method
  - error to exception now sends file+line+context in its error message

/*********/
/* 4.0.0 */
/*********/

Cleanup release + Unit Testing + Environmental Configs + ErrorHandler + Logger\Channel

#New
  - Overridable singleton
  - Bootstrap can tell if already warmed up
  - Component Exception\Status\Unauthorized
  - many status header added to Response\Header\Status - (VALUE_BAD_REQUEST / VALUE_UNAUTHORIZED / VALUE_PAYMENT_REQUIRED / VALUE_METHOD_NOT_ALLOWED / VALUE_NOT_ACCEPTABLE / VALUE_PROXY_AUTH_REQUIRED / VALUE_REQUEST_TIMEOUT / VALUE_CONFLICT / VALUE_GONE / VALUE_LENGTH_REQUIRED / VALUE_PRECONDITION_FAILED / VALUE_PAYLOAD_TOO_LARGE / VALUE_REQUEST_URI_TOO_LONG / VALUE_UNSUPPORTED_MEDIA_TYPE / VALUE_REQUESTED_RANGE_NOT_SATISFIABLE / VALUE_EXPECTATION_FAILED / VALUE_I_AM_TEAPOT)
  - ErrorHandler component - This component can be injected in Framework and act when uncaught exception occurs
  - Component ErrorHandler\Plugin\ErrorController
  - Component ErrorHandler\Plugin\HttpHeader
  - Component ErrorHandler\Plugin\Log
  - Component ErrorHandler\Plugin\Mail
  - Component Logger\Channel
  - Component Environment - can use ENVIRONMENT constant if defined
  - Component Config\Ini
  - Component Config\Ini\Extended - uses external dependencies with old Zend_Config_Ini component // this component had been migrated to be compatible with FMUP
  - Component Config\Exception
  - Component Config\ConfigInterface - You must use this interface instead of Config dependencies
  - Component Cache\Driver\Memcached now allows a prefix for keys (SETTINGS_CACHE_PREFIX)
  - Component Logger\LoggerTrait
  - Component Db\Driver\Pdo\Mysql - this might be more efficient than a Pdo with dsn driver set to mysql since it can be extended + uses cached queries
  - Tests\Cache
  - Tests\Cache\Factory
  - Tests\Cache\Driver\Ram
  - Tests\Cache\Driver\Apc
  - Tests\Cache\Driver\Memcached
  - Tests\Cache\Driver\Shm

#Fix
  - Cache\Driver\Shm must use id for keys - internal transformation
  - Cache\Driver\Apc checks now if APC is enabled
  - Cache\Driver\Apc tries to insert two times with two different method on failure

#Compatible
  - rearchitectured Db\PDO\Drivers to be more SOLID
  - Status Error 500 is now sent on error
  - Fix some Coding Style
  - Migrate FMUP to use Config\ConfigInterface dependencies instead of Config
  - Autoloader define its BASE_PATH wich is still required by the framework - allows you to forget to implement it or override it

#Deprecated
  - App* are now deprecated and not used anymore by default - Use preDispatcher/postDispatchers instead or a master class to extends from
  - \Debug - use Logger instead
  - \Console - use Logger instead

#Delete
  - Component \FMUP\Error - use Exceptions instead
  - Component \Error - use Exceptions instead
  - Component \Controller - use \FMUP\Controller instead (override public function getActionMethod($action){ return $action} for backwards compatibility)
  - Component \NotFoundError - Use Exception\Status\NotFound instead
  - Framework do not uses ErrorController anymore - use ErrorHandler + ErrorController Plugin instead

#BC Break
  - Db drivers now sends Db\Exceptions instead of \PDOExceptions (still available in exception chain)
  - Factory are now singletons
  - Overridable singleton - Use getInstance()->method for all other static than ::getInstance()
  - Singletons are now more SOLID by closing getInstance extendability
  - Logger now uses channels instead

/*********/
/* 3.3.3 */
/*********/

Fix some memory leak

# Fix
 - deleted most of "create_function" call that causes memory leak on multiple calls
 
/*********/
/* 3.3.2 */
/*********/

ErrorController now calls its preFilter/postFilter

# Fix
 - ErrorController now calls its preFilter/postFilter

/*********/
/* 3.3.1 */
/*********/

#Deleted
  - Import\test.php - fails continuous integration
  
/*********/
/* 3.3.0 */
/*********/

#New
  - component Cache\Apc
  - component Cache\Memcached
  - component Response\Header\ContentDisposition
  - component Response\Header\ContentLength
  - component Response\Header\Expires
  - component Response\Header\LastModified
  - component Response\Header\Pragma
  - component Import\Config\Field\Validator\Enum
  - component Import\Config\Field\Validator\RegExp
  - component Import\Iterator\CsvIterator
  - component Import\Iterator\CsvToConfigIterator
  - component Crypt\Driver\MCrypt
  - \FMUP\Controller can now change their action suffix
  - \Import\Config\Field can now add Validator with defined name
  - \Queue\Driver\Native can now be configured
  
#Fix
  - \Import\Config\Field\Date allow now empty date setting
  - Model do not throw notice anymore when comparing objects on save
  - Queue\Driver\Native uses SystemV default size (probably 16ko) instead of 512o
  
#Compatible
  - Rearchitectured FMUP\Db\Pdo\Drivers to be more SOLID
  - Singletons are now mostly overridable

/*********/
/* 3.2.0 */
/*********/

Add support of some SystemV features

#Fix
  - Driver Cache\File

#Compatible
  - Framework uses is_callable instead of method_exists (can not call private/protected methods)
  
#New
  - Component Response\Header\CacheControl
  - Component Response\Header\ContentLength
  - Component Response\Header\Expires
  - Component Response\Header\LastModified
  - Component Response\Header\Pragma
  - Component Queue
  - Component Cache\Driver\Shm
  - New controllers allow to modify their action suffix  
  - Daily error message uses correct error_log system to have exception logs
  
/*********/
/* 3.1.2 */
/*********/

#Fix
  - Fix DbConnectionMysql transaction methods
  
/*********/
/* 3.1.1 */
/*********/

#Fix
  - Fix DbConnectionMysql transaction
  
/*********/
/* 3.1.0 */
/*********/

#Fix
  - Can use \FMUP\Db in helpers

#New
  - Crypt component
  - Crypt\Md5 component
  - Session can regenerate
  - Db::lastInsertId can now accept a param

/*********/
/* 3.0.0 */
/*********/

Continuous integration refactoring

#New
  - Component \FMUP\Exception\Location
  - Component \FMUP\Response\Header\Location
  - Unit test for \FMUP\Config
  - added PHPdoc + strong typing
  - added code coverage

#Fix
  - postDispatch is now called everytime even in case of error
  - session can change its name if not started
  - code coverage now set
  - continuous integration can now compute logs
  - system components can now be loaded
  - Validator Import\Config\Field\Validator\LongueurMax
  - deleted LogiCE reference
  - strong typing in view params
  - removed DbConnectionMysql hard referencies
  - Import will send Exception instead of crash in case of error
  - Import on update
  - cleanup some code style

#Deprecated
 - Redirect method in controller - use \FMUP\Exception\Location instead
 - Framework - use \FMUP\Framework instead
 - CronHelper - use package cron/cron instead (do not need mysql database)
 - Error - use any exception + \FMUP\Controller\Error instead
 - DbConnectionMysql - use \FMUP\Db instead
 
#Incompatible
  - renamed preFiltre and postFiltre in preFilter and postFilter in controller
  - preFilter and postFilter in controller have optional parameter of called action
  - Session component do not take session name in session instance anymore
  - deleted deprecated method Controller::getDb()
  - deleted system/component/pdf/fpdf
  - renamed component php views in phtml views
  - component PDFHelper now throws LogicException if TCPDF is missing
  - Constantes do not extends ConstantesApplication anymore

/*********/
/* 2.1.4 */
/*********/

ErrorController now calls its preFiltre

# Fix
 - ErrorController now calls its preFiltre

/*********/
/* 2.1.3 */
/*********/

Fix Some accent

#Fix
 - MathHelper::getPourcentageEvolution now returns something without number_format
 - FiltreListe attribute now encodes in utf-8
 - \Date::getTableauLibelleMois() fix Août encoding
 
/*********/
/* 2.1.2 */
/*********/

Fix Import

#Fix
 - Import will send Exception instead of crash in case of error
 - Import on update
 
/*********/
/* 2.1.1 */
/*********/

Fix EmailHelper

#Fix
 - EmailHelper back to its previous behaviour. Fix should be applied in your project
 
/*********/
/* 2.1.0 */
/*********/

Add import component

#Fix
 - Component DbConnectionMssql return id in update
 - EmailHelper is now based on template name instead of id
 
#New
 - Component Import

/*********/
/* 2.0.1 */
/*********/

Compliance with old FMU 1.0.0.6 components

#Fix
 - Component generateur to load correct PATH
 - Component console to load correct PATH
 - Component filtre_liste to load correct PATH
 - DbConnectionMssql to be usable in CLI
 - DbHelper can load DbConnectionMssql driver

/*********/
/* 2.0.0 */
/*********/

Industrialization + new FMU 1.0.0.6 compatibility

#New

 - PHPMailer no longer needed in lib folder - FMUP Dependency thanks to composer
 - FPDF no longer needed in lib folder - FMUP Dependency thanks to composer
 - Version system based on composer
 - Continuous integration
 - added component generateur
 - added component Filtre Liste
 - added Helper Bouton
 - added Helper CronHelper
 - added Helper LangueHelper
 - added Helper MathHelper
 - added Helper PaiementHelper
 - added Helper Pdf
 - added Helper Sage
 - Enhanced String
 - Add Db\Driver\Sqlite
 
#Fix
 - Config can now be called in cli
 - UniteHelper for number format
 - PDF Componant can now work in standalone mode
 
#Incompatible
  - Method SetFlash in controller now handle only one parameter
  - Method preFiltre in controller now handle an optional parameter $calledAction (must be declared in controllers)
  - Langue is now a helper
  - DbConnection is renamed DbConnectionMssql
  - Deleted Droit
  - Deleted Helper\ArbreHelper
  - Deleted Helper\Boutons
  - Deleted Helper\FormatReferences
  - Deleted Helper\PagingHelper
  - Deleted Helper\PopinHelper
  - Deleted Helper\RequeteHelper
  - Config deleted all specific methods - use paramsVariables instead
  - Deleted deprecated methods in Date
  - Deleted deprecated methods in Debug
  - Deleted deprecated methods in Helper\Constant
  - Deleted Navigation::siteOuvert - now in config
  - Model do no longer extends FiltreListe
  - FormHelper delete deprecated methods
  - FormHelper now add a $editable param in almost all its method - this param is placed before $options
  - Models don't use flashmessenger anymore
  - config.ini no longer used - use config.php instead
  - layouts must no longer be in view\Layout folder but directly in a layout folder

#Deprecated  
  - Controller - use \FMUP\Controller
  - View - use \FMUP\View
  - Framework - use \FMUP\Framework

/*********/
/* 1.2.2 */
/*********/

PHPMailer dependency

# Fix
 - Use phpmailer composer dependency instead of require_once

/*********/
/* 1.2.1 */
/*********/

ErrorController now calls its preFiltre

# Fix
 - ErrorController now calls its preFiltre

/*********/
/* 1.2.0 */
/*********/

FlashMessenger accessible by bootstrap + Url creation

# New
 - Add Referer in request
 - Add FlashMessenger in Bootstrap
 - Add Request\Url component to create url in object
 
# Fix
 - Redirect method
 - modifier in model

/*********/
/* 1.1.3 */
/*********/

Fix memory leak on SQL

# Fix

 - memory leak when using where clause in SQL

/*********/
/* 1.1.2 */
/*********/

Fix multiple notice when log table is not handled properly

# Fix

 - Fix multiple notice when log table is not handled properly

/*********/
/* 1.1.1 */
/*********/

Login now redirect to requested page + add Session in bootstrap

# New

 - Login now redirect to requested page
 - add Session in bootstrap

# Fix

 - Tidy up some code
 
/*********/
/* 1.1.0 */
/*********/

Error controller will now need a specific render

# New

 - Add Bootstrap system + add Monolog logger
 - Request can test uploded files

# Deprecated

 - DbConnection - use \FMUP\Db instead
 - Controller::getDb
 - Debug - use logs instead

# Fix

 - Tidy up some code
 
# Incompatible

 - ErrorController is now abstract

/*********/
/* 1.0.0 */
/*********/

First stable release

# Compatibility

 - Update compatibility with PHP >= 5.3

# New

 - ErrorController can be override
 - Db can now be multiton
 - Component Session
 - Component Pre/Post Dispatcher system
 - Component Header/Status
 - Component Db/Driver/Pdo/Odbc
 - Component Db/Driver/Pdo/SqlSrv
 - Component Cookie
 - Autoloader

# Deprecated

 - Component View - Use FMUP\View

# Fix

 - Use Session component
 
# Incompatible

 - FMUP\View don't define its view path by default

/*********/
/* 0.2.0 */
/*********/

Add cache + Exception for dispathing + FlashMessenger + view compliance with FMU

# New

 - View can access params by $this or variable
 - Component Cache
 - Component Cache\Ram
 - Exception Forbidden
 - Component Db\Mock
 - Ability to redefine its own ErrorController
 - Component FlashMessenger

# Incompatible

 - Controller add suffix Action to be called
 - Exception NotFound moved to Exception\Status\NotFound
 - preFiltre in controller need an $action parameter to know which action is called


/*********/
/* 0.1.0 */
/*********/

initial FMUP release

# New

 - Component Db
 - Component Helper\Db
 - Component Response
 - Component Routing
 - Component Tools\Log
 - Component Controller
 - Component Error
 - Component Exception
 - Component Framework
 - Component Request
 - Component View
